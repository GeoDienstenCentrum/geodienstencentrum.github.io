language: ruby

os: linux
dist: xenial

rvm:
  - 2.5

cache: bundler

# use "BUNDLE_GEMFILE=travisGemfile bundle update" to update
gemfile: travisGemfile

install:
  - bundle install
  - bundle exec scss-lint -v

before_script:
  # -

script:
  - bundle exec jekyll build
  - bundle exec scss-lint $SASS_FOLDER
  - bundle exec htmlproofer $HTML_FOLDER --check-favicon --check-html
  #- bundle exec htmlproof $HTML_FOLDER --check-favicon --verbose --check-html --only_4xx


after_script:
  # - jshint $JS_FOLDER
  # - csslint $CSS_FILES --exclude-list=$CSS_EXCLUDES

env:
  global:
    - NOKOGIRI_USE_SYSTEM_LIBRARIES=true # speeds up installation of html-proofer
    - HTML_FOLDER="./_site/"
    - SASS_FOLDER="./_sass/"
    - JS_FOLDER="./js/"
    - CSS_FILES="css/main.css,css/print.css,css/screen.css"
    - CSS_EXCLUDES=""

notifications:
  email: false
